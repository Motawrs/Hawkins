<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="hawkins-removebg-preview.png">
    <link rel="stylesheet" href="hawkins.css">
    <title>Portal Do Aluno Hawkins</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
        }
        .header-bg {
            background-color: #166534;
        }
        .sidebar-bg {
            background-color: #ffffff;
        }

        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        
        hr {
            width: 80%;
            border: 2px solid rgb(0, 0, 0);
            margin-bottom: 40px;}

        h1 {
            background-color: #006633;
            color: white;
            padding: 20px; 
            margin: 0;
        }

        .imagem-container {
            margin-top: 30px;
        }

        img {
            width: 80%;
            max-width: 300px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        footer {
            margin-top: 40px; 
            background-color: #006633;
            color: white; 
            padding: 10px 0; 
            font-size: 14px;
        }

        .botao{ background-color: #006633;
    color: white;
    border: none;
    padding: 20px 40px;
    margin: 10px;
    font-size: 22px;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
    margin-left: 0%;
        } 

        .botao:hover{ background-color: #e07108;
            transform: scale(1.05);}

    </style>
</head>
<body>


    <div id="app" class="min-h-screen flex flex-col">
        <header class="header-bg text-white p-4 shadow-lg flex justify-between items-center sticky top-0 z-10">
            <h1 class="text-2xl font-bold">Mural Do Aluno</h1>
            <div id="auth-info-bar" class="flex items-center text-sm font-medium p-2 bg-green-700 rounded-full">
                <div id="user-info" class="text-xs font-medium">Conectando...</div>
                <p id="auth-status" class="text-xs font-semibold ml-2"></p>
            </div>
        </header>

        <div class="flex flex-1">
            <nav class="sidebar-bg w-48 p-4 border-r border-gray-200 hidden md:block">
                <ul class="space-y-3 text-gray-700">
                    <li><a href="http://127.0.0.1:5500/inicio.html" class="font-semibold text-lg hover:text-green-700 transition duration-150 block p-2 rounded-lg">Início</a></li>
                    <li><a href="http://127.0.0.1:5500/agenda.html" class="text-lg hover:text-green-700 transition duration-150 block p-2 rounded-lg">Agenda</a></li>
                    <li><a href="http://127.0.0.1:5500/configuracoes.html" class="text-lg hover:text-green-700 transition duration-150 block p-2 rounded-lg">Configurações</a></li>
                    <li class="border-t border-gray-300 my-4 pt-4"></li>
                </ul>
            </nav>
            <main class="flex-1 p-6 lg:p-10">
                <h2 class="text-3xl font-semibold text-gray-800 mb-6 border-b pb-2">Comentários da Comunidade</h2>
                <div class="bg-white p-6 rounded-xl shadow-lg mb-8 border-t-4 border-green-600" id="comment-section">
                    <h3 class="text-xl font-bold text-green-700 mb-4">Adicionar um Novo Comentário</h3>
                    <form id="comment-form">
                        <div class="mb-4">
                            <label for="comment-author" class="block text-sm font-medium text-gray-700 mb-1">Seu Nome/Apelido</label>
                            <input type="text" id="comment-author" required 
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150"
                                placeholder="Seu nome ou apelido">
                        </div>
                        <div class="mb-4">
                            <label for="comment-text" class="block text-sm font-medium text-gray-700 mb-1">Seu Comentário</label>
                            <textarea id="comment-text" rows="3" required 
                                class="w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-green-500 focus:border-green-500 transition duration-150"
                                placeholder="Escreva sua mensagem aqui..."></textarea>
                        </div>
                        <button type="submit" id="submit-button" disabled
                            class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-xl transition duration-300 ease-in-out disabled:opacity-50">
                            Publicar Comentário
                        </button>
                    </form>
                    <p id="error-message" class="text-red-500 text-sm mt-3 font-semibold"></p>
                </div>
                <div id="comments-list" class="space-y-4">
                    <p class="text-center text-gray-500" id="loading-text">Carregando comentários...</p>
                </div>

            </main>
        </div>
    </div>
    <script type="module">
let localComments = []; 
const commentsList = document.getElementById('comments-list');
const commentForm = document.getElementById('comment-form');
const authStatus = document.getElementById('auth-status');
const userInfo = document.getElementById('user-info');
const submitButton = document.getElementById('submit-button');
const loadingText = document.getElementById('loading-text');
const errorMessage = document.getElementById('error-message');
const authInfoBar = document.getElementById('auth-info-bar');
const commentAuthorInput = document.getElementById('comment-author'); 
const currentUserId = 'local_user';
function initLocalMural() {
    userInfo.textContent = "Local";
    authStatus.textContent = "Chat Ativo";
    authInfoBar.classList.remove('bg-green-700');
    authInfoBar.classList.add('bg-green-600', 'text-white');
    submitButton.disabled = false;
    submitButton.textContent = "Publicar Comentário";
    errorMessage.innerHTML = '';
    renderComments(); 
}
function renderComments() {
    commentsList.innerHTML = '';
    loadingText.style.display = 'none';

    if (localComments.length === 0) {
        commentsList.innerHTML = '<p class="text-center text-gray-500 p-4 bg-white rounded-lg shadow-sm">Nenhum comentário ainda. Seja o primeiro a postar!</p>';
        return;
    }
    localComments.sort((a, b) => b.timestamp - a.timestamp);

    localComments.forEach(comment => {
        const date = new Date(comment.timestamp).toLocaleString('pt-BR');
        const isCurrentUser = comment.authorId === currentUserId; 
        const cardClass = isCurrentUser 
            ? 'bg-green-50 border-l-4 border-green-500' 
            : 'bg-white border-l-4 border-gray-300'; 

        const commentElement = document.createElement('div');
        commentElement.className = `p-4 rounded-xl shadow-md hover:shadow-lg transition duration-150 ${cardClass}`;
        commentElement.innerHTML = `
            <p class="text-gray-800 break-words mb-2">${comment.text}</p>
            <div class="flex justify-between items-center text-xs text-gray-500 mt-2 pt-2 border-t border-dashed border-gray-200">
                <span class="font-bold text-sm ${isCurrentUser ? 'text-green-800' : 'text-gray-700'}">
                    ${comment.authorName} 
                    ${isCurrentUser ? ' (Você)' : ''}
                </span>
                <span>${date}</span>
            </div>
        `;
        commentsList.appendChild(commentElement);
    });
}
commentForm.addEventListener('submit', (e) => {
    e.preventDefault();

    const commentText = document.getElementById('comment-text').value.trim();
    const authorName = document.getElementById('comment-author').value.trim() || 'Aluno Anônimo'; 

    if (commentText === "") return;

    submitButton.textContent = "Publicando...";
    submitButton.disabled = true;
    errorMessage.textContent = "";
    const newComment = {
        text: commentText,
        authorName: authorName,
        authorId: currentUserId, 
        timestamp: Date.now()
    };
    localComments.push(newComment);
    renderComments(); 
    document.getElementById('comment-text').value = '';
    submitButton.textContent = "Publicar Comentário";
    submitButton.disabled = false;
});
window.onload = initLocalMural;
    </script>
    <footer>
        © 2025 | Criado pela Equipe Pedagógica - Colégio Hawkins 
    </footer>
</body>
</html>